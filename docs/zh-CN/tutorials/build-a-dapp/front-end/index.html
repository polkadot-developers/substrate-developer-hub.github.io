<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>构建自定义前端 · Substrate Developer Hub</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="如果你一路走来，这意味着你_应该_已经启动并运行了一个包含自定义功能的全新区块链。"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="构建自定义前端 · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="如果你一路走来，这意味着你_应该_已经启动并运行了一个包含自定义功能的全新区块链。"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/past-seminars.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/zh-CN/tutorials" target="_self">教程</a></li><li class=""><a href="/docs/zh-CN/" target="_self">知识库</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">进阶菜谱</a></li><li class=""><a href="https://substrate.dev/substrate-how-to-guides/" target="_self">How-to Guides</a></li><li class=""><a href="https://substrate.dev/rustdocs/" target="_self">Reference</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>简体中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/tutorials/build-a-dapp/front-end">English</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">协助翻译</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>创建 PoE 去中心化应用</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">创建 PoE 去中心化应用<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/">介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/prepare">准备构建一个 dApp</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/pallet">构建一个自定义模块</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/front-end">构建自定义前端</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/substrate-developer-hub/zh-CN" target="_blank" rel="noreferrer noopener">Translate</a><h1 id="__docusaurus" class="postHeaderTitle">构建自定义前端</h1></header><article><div><span><p>如果你一路走来，这意味着你<em>应该</em>已经启动并运行了一个包含自定义功能的全新区块链。</p>
<p>In this section, we will get the front-end up and running and add a custom React component designed to make use of our PoE pallet's capabilities.</p>
<p>The first thing you'll need to do is to clone a copy of the <a href="https://github.com/substrate-developer-hub/substrate-front-end-template">Front-End Template</a> <strong>specifically with the <code>latest</code> tag</strong> as a base, if you haven't already.</p>
<pre><code class="hljs css language-bash">git <span class="hljs-built_in">clone</span> -b latest --depth 1 https://github.com/substrate-developer-hub/substrate-front-end-template
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="yarn-v2"></a><a href="#yarn-v2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Yarn V2</h3>
<p>The Frontend Template is expected to work with <code>yarn</code> <strong>v2</strong>. To ensure you have the right version, use:</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># use yarn 2+</span>
yarn <span class="hljs-built_in">set</span> version berry
<span class="hljs-comment"># update to latest yarn 2</span>
yarn <span class="hljs-built_in">set</span> version latest
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="探索-front-end-template："></a><a href="#探索-front-end-template：" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>探索 Front-End Template：</h2>
<p>要启动 Front-End Template，导航到相关目录下，并运行：</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># Install dependencies if this is the first time you run front-end template</span>
yarn install
<span class="hljs-comment"># Start the template</span>
yarn start
</code></pre>
<p>A new tab should open in your web browser and you'll see the following interface.</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/front-end-template.png" alt="Front End Template"></p>
<p>You'll see a list of pre-funded accounts, and you can make token transfers between those accounts.</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/front-end-template-balance-transfer.png" alt="余额转账"></p>
<h2><a class="anchor" aria-hidden="true" id="添加自定义-react-组件"></a><a href="#添加自定义-react-组件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加自定义 React 组件</h2>
<p>In the Front-End Template project, edit the <code>TemplateModule.js</code> file in the <code>/src/</code> folder:</p>
<p><strong><code>src/TemplateModule.js</code></strong></p>
<pre><code class="hljs">substrate<span class="token operator">-</span>front<span class="token operator">-</span>end<span class="token operator">-</span>template
<span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> src
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> index<span class="token punctuation">.</span>js
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token class-name">App</span><span class="token punctuation">.</span>js
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token class-name">TemplateModule</span><span class="token punctuation">.</span>js  <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token class-name">Edit</span> this file
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">...</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">...</span>
</code></pre>
<p><strong>Delete the entire contents of that file, and replace it with the following:</strong></p>
<div class="overflow-code">
  <style>
    .overflow-code + pre {
      max-height: 20em;
      overflow-y: scroll;
    }
  </style>
</div>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// React and Semantic UI elements.</span>
<span class="hljs-keyword">import</span> React, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Form, Input, Grid, Message } <span class="hljs-keyword">from</span> <span class="hljs-string">'semantic-ui-react'</span>;
<span class="hljs-comment">// Pre-built Substrate front-end utilities for connecting to a node</span>
<span class="hljs-comment">// and making a transaction.</span>
<span class="hljs-keyword">import</span> { useSubstrate } <span class="hljs-keyword">from</span> <span class="hljs-string">'./substrate-lib'</span>;
<span class="hljs-keyword">import</span> { TxButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'./substrate-lib/components'</span>;
<span class="hljs-comment">// Polkadot-JS utilities for hashing data.</span>
<span class="hljs-keyword">import</span> { blake2AsHex } <span class="hljs-keyword">from</span> <span class="hljs-string">'@polkadot/util-crypto'</span>;

<span class="hljs-comment">// Our main Proof Of Existence Component which is exported.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Main</span> (<span class="hljs-params">props</span>) </span>{
  <span class="hljs-comment">// Establish an API to talk to our Substrate node.</span>
  <span class="hljs-keyword">const</span> { api } = useSubstrate();
  <span class="hljs-comment">// Get the selected user from the `AccountSelector` component.</span>
  <span class="hljs-keyword">const</span> { accountPair } = props;
  <span class="hljs-comment">// React hooks for all the state variables we track.</span>
  <span class="hljs-comment">// Learn more at: https://reactjs.org/docs/hooks-intro.html</span>
  <span class="hljs-keyword">const</span> [status, setStatus] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [digest, setDigest] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [owner, setOwner] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [block, setBlock] = useState(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// Our `FileReader()` which is accessible from our functions below.</span>
  <span class="hljs-keyword">let</span> fileReader;

  <span class="hljs-comment">// Takes our file, and creates a digest using the Blake2 256 hash function.</span>
  <span class="hljs-keyword">const</span> bufferToDigest = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Turns the file content to a hexadecimal representation.</span>
    <span class="hljs-keyword">const</span> content = <span class="hljs-built_in">Array</span>.from(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(fileReader.result))
      .map(<span class="hljs-function">(<span class="hljs-params">b</span>) =&gt;</span> b.toString(<span class="hljs-number">16</span>).padStart(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>))
      .join(<span class="hljs-string">''</span>);

    <span class="hljs-keyword">const</span> hash = blake2AsHex(content, <span class="hljs-number">256</span>);
    setDigest(hash);
  };

  <span class="hljs-comment">// Callback function for when a new file is selected.</span>
  <span class="hljs-keyword">const</span> handleFileChosen = <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    fileReader = <span class="hljs-keyword">new</span> FileReader();
    fileReader.onloadend = bufferToDigest;
    fileReader.readAsArrayBuffer(file);
  };

  <span class="hljs-comment">// React hook to update the owner and block number information for a file.</span>
  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> unsubscribe;

    <span class="hljs-comment">// Polkadot-JS API query to the `proofs` storage item in our pallet.</span>
    <span class="hljs-comment">// This is a subscription, so it will always get the latest value,</span>
    <span class="hljs-comment">// even if it changes.</span>
    api.query.templateModule
      .proofs(digest, (result) =&gt; {
        <span class="hljs-comment">// Our storage item returns a tuple, which is represented as an array.</span>
        setOwner(result[<span class="hljs-number">0</span>].toString());
        setBlock(result[<span class="hljs-number">1</span>].toNumber());
      })
      .then(<span class="hljs-function">(<span class="hljs-params">unsub</span>) =&gt;</span> {
        unsubscribe = unsub;
      });

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> unsubscribe &amp;&amp; unsubscribe();
    <span class="hljs-comment">// This tells the React hook to update whenever the file digest changes</span>
    <span class="hljs-comment">// (when a new file is chosen), or when the storage subscription says the</span>
    <span class="hljs-comment">// value of the storage item has updated.</span>
  }, [digest, api.query.templateModule]);

  <span class="hljs-comment">// We can say a file digest is claimed if the stored block number is not 0.</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isClaimed</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> block !== <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">// The actual UI elements which are returned from our component.</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.Column</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Proof Of Existence<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* Show warning or success message if the file is or is not claimed. */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">success</span>=<span class="hljs-string">{!!digest</span> &amp;&amp; !<span class="hljs-attr">isClaimed</span>()} <span class="hljs-attr">warning</span>=<span class="hljs-string">{isClaimed()}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Form.Field</span>&gt;</span>
          {/* File selector with a callback to `handleFileChosen`. */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Input</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'file'</span>
            <span class="hljs-attr">id</span>=<span class="hljs-string">'file'</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">'Your File'</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{</span> <span class="hljs-attr">e</span> =&gt;</span> handleFileChosen(e.target.files[0]) }
          /&gt;
          {/* Show this message if the file is available to be claimed */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">success</span> <span class="hljs-attr">header</span>=<span class="hljs-string">'File Digest Unclaimed'</span> <span class="hljs-attr">content</span>=<span class="hljs-string">{digest}</span> /&gt;</span>
          {/* Show this message if the file is already claimed. */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
            <span class="hljs-attr">warning</span>
            <span class="hljs-attr">header</span>=<span class="hljs-string">'File Digest Claimed'</span>
            <span class="hljs-attr">list</span>=<span class="hljs-string">{[digest,</span> `<span class="hljs-attr">Owner:</span> ${<span class="hljs-attr">owner</span>}`, `<span class="hljs-attr">Block:</span> ${<span class="hljs-attr">block</span>}`]}
          /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Form.Field</span>&gt;</span>
        {/* Buttons for interacting with the component. */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Form.Field</span>&gt;</span>
          {/* Button to create a claim. Only active if a file is selected,
          and not already claimed. Updates the `status`. */}
          <span class="hljs-tag">&lt;<span class="hljs-name">TxButton</span>
            <span class="hljs-attr">accountPair</span>=<span class="hljs-string">{accountPair}</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">Create</span> <span class="hljs-attr">Claim</span>'}
            <span class="hljs-attr">setStatus</span>=<span class="hljs-string">{setStatus}</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'SIGNED-TX'</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isClaimed()</span> || !<span class="hljs-attr">digest</span>}
            <span class="hljs-attr">attrs</span>=<span class="hljs-string">{{</span>
              <span class="hljs-attr">palletRpc:</span> '<span class="hljs-attr">templateModule</span>',
              <span class="hljs-attr">callable:</span> '<span class="hljs-attr">createClaim</span>',
              <span class="hljs-attr">inputParams:</span> [<span class="hljs-attr">digest</span>],
              <span class="hljs-attr">paramFields:</span> [<span class="hljs-attr">true</span>]
            }}
          /&gt;</span>
          {/* Button to revoke a claim. Only active if a file is selected,
          and is already claimed. Updates the `status`. */}
          <span class="hljs-tag">&lt;<span class="hljs-name">TxButton</span>
            <span class="hljs-attr">accountPair</span>=<span class="hljs-string">{accountPair}</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">'Revoke Claim'</span>
            <span class="hljs-attr">setStatus</span>=<span class="hljs-string">{setStatus}</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'SIGNED-TX'</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{!isClaimed()</span> || <span class="hljs-attr">owner</span> !== <span class="hljs-string">accountPair.address}</span>
            <span class="hljs-attr">attrs</span>=<span class="hljs-string">{{</span>
              <span class="hljs-attr">palletRpc:</span> '<span class="hljs-attr">templateModule</span>',
              <span class="hljs-attr">callable:</span> '<span class="hljs-attr">revokeClaim</span>',
              <span class="hljs-attr">inputParams:</span> [<span class="hljs-attr">digest</span>],
              <span class="hljs-attr">paramFields:</span> [<span class="hljs-attr">true</span>]
            }}
          /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Form.Field</span>&gt;</span>
        {/* Status message about the transaction. */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">overflowWrap:</span> '<span class="hljs-attr">break-word</span>' }}&gt;</span>{status}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.Column</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TemplateModule</span> (<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> { api } = useSubstrate();
  <span class="hljs-keyword">return</span> (api.query.templateModule &amp;&amp; api.query.templateModule.proofs
    ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Main</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span> : <span class="hljs-literal">null</span>);
}
</code></pre>
<p>We won't walk you step by step through the creation of this component, but do look over the code comments to learn what each part is doing.</p>
<blockquote>
<p>Stuck? There is a full front-end template <a href="https://github.com/substrate-developer-hub/substrate-front-end-template/tree/tutorials/solutions/build-a-dapp-v3+1">solution</a> to use as a reference. Check <a href="https://github.com/substrate-developer-hub/substrate-front-end-template/compare/v3.0.0...tutorials/solutions/build-a-dapp-v3+1">the diff from its base <code>v3.0.0</code> for exact changes</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="提交证明"></a><a href="#提交证明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>提交证明</h2>
<p>Your Front-End Template should reload when you save your changes, and you'll notice our new component. Now we're ready to try out our new dApp. Select any file on your computer, and you will see that you can create a claim with its file digest:</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/poe-component.png" alt="Proof Of Existence Component"></p>
<p>If you press &quot;Create Claim&quot;, a transaction will be dispatched to your custom Proof of Existence pallet, where this digest and the selected user account will be stored on chain.</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/poe-claimed.png" alt="Claimed File"></p>
<p>If all went well, you should see a new <code>ClaimCreated</code> event appear in the Events component. The front-end automatically recognizes that your file is now claimed, and even gives you the option to revoke the claim if you want.</p>
<p>Remember, only the owner can revoke the claim! If you select another user account at the top, and you will see that the revoke option is disabled!</p>
<h2><a class="anchor" aria-hidden="true" id="后续步骤"></a><a href="#后续步骤" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>后续步骤</h2>
<p>This is the end of our journey into creating a Proof of Existence blockchain.</p>
<p>You have seen firsthand how simple it can be to develop a brand new pallet and launch a custom blockchain using Substrate and FRAME. Furthermore, we have shown you that the Substrate ecosystem provides you with the tools to quickly create responsive front-end experiences so users can interact with your blockchain.</p>
<p>This tutorial chose to omit some of the specific details around development in order to keep this experience short and satisfying. However, we want you to keep learning!</p>
<p>To learn more about building your own pallets, explore the <a href="https://substrate.dev/recipes/">Substrate Recipes</a>.</p>
<p>Complete the <a href="../add-a-pallet/">Add a Pallet</a> tutorial to learn how to extend the Node Template with additional capabilities from Substrate's set of <a href="../../knowledgebase/runtime/frame">core FRAME pallets</a>.</p>
<p>Substrate is written in the Rust programming language, which has a great community and many helpful resources. If you would like to learn more about this powerful and <a href="https://stackoverflow.blog/2020/01/20/what-is-rust-and-why-is-it-so-popular/">beloved</a> programming language, check out the information-packed <a href="https://doc.rust-lang.org/book/">Rust Book</a> and the fun <a href="https://github.com/rust-lang/rustlings">Rustlings</a> course.</p>
<p>If you experienced any issues with this tutorial or want to provide feedback, you can <a href="https://stackoverflow.com/questions/tagged/substrate">ask a question on Stack Overflow</a> (using the <code>substrate</code> tag) or ask any questions in the <a href="https://matrix.to/#/#substrate-technical:matrix.org">Substrate Technical Channel on Element</a>. We're here to help!</p>
<p>We can't wait to see what you build next.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/tutorials/build-a-dapp/pallet"><span class="arrow-prev">← </span><span>构建一个自定义模块</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#探索-front-end-template：">探索 Front-End Template：</a></li><li><a href="#添加自定义-react-组件">添加自定义 React 组件</a></li><li><a href="#提交证明">提交证明</a></li><li><a href="#后续步骤">后续步骤</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>开发者中心</h5><a href="/zh-CN/tutorials">教程</a><a href="/docs/zh-CN/">知识库</a><a href="https://substrate.dev/recipes/">进阶菜谱</a><a href="https://substrate.dev/substrate-how-to-guides">How-to Guides</a><a href="https://substrate.dev/rustdocs">API 文档</a><a href="https://playground.substrate.dev/">Playground</a></div><div><h5>社区</h5><a href="/zh-CN/community">社区主页</a><a href="/zh-CN/newsletter">通讯</a><a href="https://matrix.to/#/#substrate-technical:matrix.org">Substrate 技术聊天室</a><a href="/zh-CN/seminar">Substrate 研讨会</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/substrate_io" target="_blank" rel="noreferrer noopener">推特</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">聚会活动</a></div><div><h5>更多</h5><a href="https://www.substrate.io/builders-program/">Substrate Builders 计划</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">开发者中心 GitHub</a><a href="https://www.parity.io/privacy/">隐私政策</a><a href="/terms">使用条款</a><a href="#" id="cookie-settings">Cookie 设置<script>
                var cookieSettings = document.getElementById('cookie-settings');
                cookieSettings.onclick = function() {
                  return klaro.show();
                };
              </script></a></div></section><section class="copyright">Copyright © 2021 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-CN"]}
              });
            </script></body></html>