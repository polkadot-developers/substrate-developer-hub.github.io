<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>构建自定义前端 · Substrate Developer Hub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="如果你一路走来，这意味着你_应该_已经启动并运行了一个包含自定义功能的全新区块链。"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="构建自定义前端 · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="如果你一路走来，这意味着你_应该_已经启动并运行了一个包含自定义功能的全新区块链。"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/redirect-next.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/zh-CN/tutorials" target="_self">教程</a></li><li class=""><a href="/docs/zh-CN/" target="_self">知识库</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">进阶菜谱</a></li><li class=""><a href="https://substrate.dev/rustdocs/" target="_self">API 文档</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>简体中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/tutorials/build-a-dapp/front-end">English</a></li><li><a href="/docs/zh-HK/tutorials/build-a-dapp/front-end">繁體中文</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">协助翻译</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>创建 PoE 去中心化应用</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">创建 PoE 去中心化应用<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/">介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/prepare">准备构建一个 dApp</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/pallet">构建一个自定义模块</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/tutorials/build-a-dapp/front-end">构建自定义前端</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/substrate-developer-hub/zh-CN" target="_blank" rel="noreferrer noopener">Translate</a><h1 id="__docusaurus" class="postHeaderTitle">构建自定义前端</h1></header><article><div><span><p>如果你一路走来，这意味着你<em>应该</em>已经启动并运行了一个包含自定义功能的全新区块链。</p>
<p>我们将带你实现一个能够与节点交互的 React 组件。</p>
<h2><a class="anchor" aria-hidden="true" id="探索-front-end-template："></a><a href="#探索-front-end-template：" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>探索 Front-End Template：</h2>
<p>要启动 Front-End Template，导航到相关目录下，并运行：</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># 如果是第一次运行 front-end template，请安装相关依赖 </span>
yarn install
<span class="hljs-comment"># 启动模板</span>
yarn start
</code></pre>
<p>你的网页浏览器将打开一个新的标签页，并且你将看到以下界面：</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/front-end-template.png" alt="Front End Template"></p>
<p>你将看到一系列预先设置好的帐户，并且你可以在这些帐户之间进行转帐交易。</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/front-end-template-balance-transfer.png" alt="余额转账"></p>
<h2><a class="anchor" aria-hidden="true" id="添加自定义-react-组件"></a><a href="#添加自定义-react-组件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加自定义 React 组件</h2>
<p>在前端模板项目中，修改 <code>/src/</code> 目录下的 <code>TemplateModule.js</code> 文件：</p>
<pre><code class="hljs">substrate<span class="token operator">-</span>front<span class="token operator">-</span>end<span class="token operator">-</span>template
<span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> src
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> index<span class="token punctuation">.</span>js
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token class-name">App</span><span class="token punctuation">.</span>js
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token class-name">TemplateModule</span><span class="token punctuation">.</span>js  <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> 修改此文件
<span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">...</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">...</span>
</code></pre>
<p>用以下内容替换文件中的所有内容：</p>
<div class="overflow-code">
  <style>
    .overflow-code + pre {
      max-height: 20em;
      overflow-y: scroll;
    }
  </style>
</div>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// React and Semantic UI 元素。</span>
<span class="hljs-keyword">import</span> React, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Form, Input, Grid, Message } <span class="hljs-keyword">from</span> <span class="hljs-string">'semantic-ui-react'</span>;
<span class="hljs-comment">// 预设的 Substrate front-end 工具，用于连接节点</span>
<span class="hljs-comment">// 和执行交易。</span>
<span class="hljs-keyword">import</span> { useSubstrate } <span class="hljs-keyword">from</span> <span class="hljs-string">'./substrate-lib'</span>;
<span class="hljs-keyword">import</span> { TxButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'./substrate-lib/components'</span>;
<span class="hljs-comment">// Polkadot-JS 工具，用作对数据进行 hash 计算 。</span>
<span class="hljs-keyword">import</span> { blake2AsHex } <span class="hljs-keyword">from</span> <span class="hljs-string">'@polkadot/util-crypto'</span>;

<span class="hljs-comment">// 导出存证的主要组件。</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Main</span> (<span class="hljs-params">props</span>) </span>{
  <span class="hljs-comment">// 建立一个与 Substrate 节点通讯的 API。</span>
  <span class="hljs-keyword">const</span> { api } = useSubstrate();
  <span class="hljs-comment">// 从 `AccountSelector` 组件中获取选定的用户。</span>
  <span class="hljs-keyword">const</span> { accountPair } = props;
  <span class="hljs-comment">// React hooks 用于追踪所有变量的状态。</span>
  <span class="hljs-comment">// 更多内容参见：https://reactjs.org/docs/hooks-intro.html</span>
  <span class="hljs-keyword">const</span> [status, setStatus] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [digest, setDigest] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [owner, setOwner] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [block, setBlock] = useState(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// 被后续代码中的函数所访问的 `FileReader()` 实例。</span>
  <span class="hljs-keyword">let</span> fileReader;

  <span class="hljs-comment">// 使用 Blake2 256 散列函数生成文件的摘要。</span>
  <span class="hljs-keyword">const</span> bufferToDigest = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// 将文件内容转换成 Hex 格式。</span>
    <span class="hljs-keyword">const</span> content = <span class="hljs-built_in">Array</span>.from(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(fileReader.result))
      .map(<span class="hljs-function">(<span class="hljs-params">b</span>) =&gt;</span> b.toString(<span class="hljs-number">16</span>).padStart(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>))
      .join(<span class="hljs-string">''</span>);

    <span class="hljs-keyword">const</span> hash = blake2AsHex(content, <span class="hljs-number">256</span>);
    setDigest(hash);
  };

  <span class="hljs-comment">// 当一个新文件被选取时需调用的回调函数。</span>
  <span class="hljs-keyword">const</span> handleFileChosen = <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    fileReader = <span class="hljs-keyword">new</span> FileReader();
    fileReader.onloadend = bufferToDigest;
    fileReader.readAsArrayBuffer(file);
  };

  <span class="hljs-comment">// 使用 React hook 来更新文件中的 owner 和  block number 信息。</span>
  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> unsubscribe;

    <span class="hljs-comment">// 使用 Polkadot-JS API 来查询 pallet 中  `proofs` 的存储信息。</span>
    <span class="hljs-comment">// 这是一个订阅，它将总是获得最新的值，</span>
    <span class="hljs-comment">// 即便它发生了改变。</span>
    api.query.templateModule
      .proofs(digest, (result) =&gt; {
        <span class="hljs-comment">// 我们的存储项将返回一个元组，以一个数组来代表。</span>
        setOwner(result[<span class="hljs-number">0</span>].toString());
        setBlock(result[<span class="hljs-number">1</span>].toNumber());
      })
      .then(<span class="hljs-function">(<span class="hljs-params">unsub</span>) =&gt;</span> {
        unsubscribe = unsub;
      });

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> unsubscribe &amp;&amp; unsubscribe();
    <span class="hljs-comment">// 用来告诉 React hook 在文件的摘要发生更改</span>
    <span class="hljs-comment">// (当新文件被选择时)，或当存储订阅表示存储项的值已更新时，</span>
    <span class="hljs-comment">// 执行页面更新操作。</span>
  }, [digest, api.query.templateModule]);

  <span class="hljs-comment">// 若储存文件摘要的区块值不为零，我们则称该文件摘要已被声明。</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isClaimed</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> block !== <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">// 从组件中返回实际的 UI 元素。</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.Column</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Proof Of Existence<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* 当文件被声明或失败时，显示警告或成功的消息。 */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">success</span>=<span class="hljs-string">{!!digest</span> &amp;&amp; !<span class="hljs-attr">isClaimed</span>()} <span class="hljs-attr">warning</span>=<span class="hljs-string">{isClaimed()}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Form.Field</span>&gt;</span>
          {/* 回调函数为 `handleFileChosen` 的文件选择器。 */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Input</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'file'</span>
            <span class="hljs-attr">id</span>=<span class="hljs-string">'file'</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">'Your File'</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{</span> <span class="hljs-attr">e</span> =&gt;</span> handleFileChosen(e.target.files[0]) }
          /&gt;
          {/* 如果要声明的文件可用，则显示此消息 */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">success</span> <span class="hljs-attr">header</span>=<span class="hljs-string">'File Digest Unclaimed'</span> <span class="hljs-attr">content</span>=<span class="hljs-string">{digest}</span> /&gt;</span>
          {/* 如果文件已被声明，则显示此消息。 */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
            <span class="hljs-attr">warning</span>
            <span class="hljs-attr">header</span>=<span class="hljs-string">'File Digest Claimed'</span>
            <span class="hljs-attr">list</span>=<span class="hljs-string">{[digest,</span> `<span class="hljs-attr">Owner:</span> ${<span class="hljs-attr">owner</span>}`, `<span class="hljs-attr">Block:</span> ${<span class="hljs-attr">block</span>}`]}
          /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Form.Field</span>&gt;</span>
        {/* 与组件交互的 Buttons。 */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Form.Field</span>&gt;</span>
          {/* 用于创建声明的 Button。 只有在文件被选择且所选文件未被声明时，
          可用。 更新 `status`。 */}
          <span class="hljs-tag">&lt;<span class="hljs-name">TxButton</span>
            <span class="hljs-attr">accountPair</span>=<span class="hljs-string">{accountPair}</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">Create</span> <span class="hljs-attr">Claim</span>'}
            <span class="hljs-attr">setStatus</span>=<span class="hljs-string">{setStatus}</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'SIGNED-TX'</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isClaimed()</span> || !<span class="hljs-attr">digest</span>}
            <span class="hljs-attr">attrs</span>=<span class="hljs-string">{{</span>
              <span class="hljs-attr">palletRpc:</span> '<span class="hljs-attr">templateModule</span>',
              <span class="hljs-attr">callable:</span> '<span class="hljs-attr">createClaim</span>',
              <span class="hljs-attr">inputParams:</span> [<span class="hljs-attr">digest</span>],
              <span class="hljs-attr">paramFields:</span> [<span class="hljs-attr">true</span>]
            }}
          /&gt;</span>
          {/* 用于撤销声明的 Button。 只有在文件被选择且所选文件已被声明时，
          可用。 更新 `status`。 */}
          <span class="hljs-tag">&lt;<span class="hljs-name">TxButton</span>
            <span class="hljs-attr">accountPair</span>=<span class="hljs-string">{accountPair}</span>
            <span class="hljs-attr">label</span>=<span class="hljs-string">'Revoke Claim'</span>
            <span class="hljs-attr">setStatus</span>=<span class="hljs-string">{setStatus}</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">'SIGNED-TX'</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{!isClaimed()</span> || <span class="hljs-attr">owner</span> !== <span class="hljs-string">accountPair.address}</span>
            <span class="hljs-attr">attrs</span>=<span class="hljs-string">{{</span>
              <span class="hljs-attr">palletRpc:</span> '<span class="hljs-attr">templateModule</span>',
              <span class="hljs-attr">callable:</span> '<span class="hljs-attr">revokeClaim</span>',
              <span class="hljs-attr">inputParams:</span> [<span class="hljs-attr">digest</span>],
              <span class="hljs-attr">paramFields:</span> [<span class="hljs-attr">true</span>]
            }}
          /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Form.Field</span>&gt;</span>
        {/* 交易的状态信息。 */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">overflowWrap:</span> '<span class="hljs-attr">break-word</span>' }}&gt;</span>{status}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.Column</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TemplateModule</span> (<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> { api } = useSubstrate();
  <span class="hljs-keyword">return</span> (api.query.templateModule &amp;&amp; api.query.templateModule.proofs
    ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Main</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span> : <span class="hljs-literal">null</span>);
}
</code></pre>
<p>我们不会带着你一步步地创建这个组件，但通过上述代码的注释，你可以了解组件的每个部分都在做什么。</p>
<h2><a class="anchor" aria-hidden="true" id="提交证明"></a><a href="#提交证明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>提交证明</h2>
<p>保存修改后，你的 Front-End Template 将会重新加载，并且你将注意到我们的新组件。 现在让我们试用我们的新 dApp。选择电脑上的任何文件，然后你将发现你可以通过所选的文件摘要来创建声明。</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/poe-component.png" alt="存证链"></p>
<p>如果你点击 &quot;Create Claim&quot;，交易将会被发送到你自定义的存证 pallet 中，其中摘要和选定的用户帐户将被存储在链上。</p>
<p><img src="/docs/assets/tutorials/build-a-dapp/poe-claimed.png" alt="已声明的文件"></p>
<p>如果没有异常，你应该能看到一个新的 <code>ClaimCreated</code> 事件出现在 Event 组件中。 前端将自动识别出你所选文件已被声明，甚至在你想要撤销声明的时候，给你相应的选项。</p>
<p>谨记，只有该文件拥有者才能撤销声明！ 如果你通过页面顶部选择了另外一个用户，你会看到撤销选项已被禁用。</p>
<h2><a class="anchor" aria-hidden="true" id="后续步骤"></a><a href="#后续步骤" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>后续步骤</h2>
<p>这是我们创建存证区块链旅程的终点。</p>
<p>如你所见，开发一个全新的 pallet，以及使用 Substrate 和 FRAME 启动一个自定义的区块链是如此容易。 此外，我们还向你展示了 Substrate 生态为你提供了快速创建响应性前端体验的工具，以便用户可以与你的区块链进行交互。</p>
<p>本教程选择省略了开发过程中的一些具体细节，是为了保持简介舒适的体验。 然而，我们希望你能继续保持学习！</p>
<p>要了解更多关于创建自己的 pallet 信息，请访问 <a href="https://substrate.dev/recipes">Substrate Recipes</a>。</p>
<p>完成<a href="../add-a-pallet/">添加一个 Pallet</a> 教程来学习如何通过 Substrate 的<a href="../../knowledgebase/runtime/frame">核心 FRAME pallet</a> 集合来扩展 Node Template 的功能。</p>
<p>Substrate 是用 Rust 编程语言来实现的，它的社区非常庞大且拥有许多有用的资源。 如果你想深入学习这个强大且<a href="https://stackoverflow.blog/2020/01/20/what-is-rust-and-why-is-it-so-popular/">深受他人喜爱</a>的编程语言，查看 <a href="https://doc.rust-lang.org/book/">Rust Book</a> 以及有趣的 <a href="https://github.com/rust-lang/rustlings">Rustlings</a> 教程。</p>
<p>如果你在本教程中遇到了任何问题，或需要提供反馈，你可以使用 <code>substrate</code> 标签在 <a href="https://stackoverflow.com/questions/tagged/substrate">Stack Overflow 上进行提问</a>，或通过 <a href="https://app.element.io/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Element</a> 联系我们。</p>
<p>我们已迫不及待想看看你接下来构建的项目！</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/tutorials/build-a-dapp/pallet"><span class="arrow-prev">← </span><span>构建一个自定义模块</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#探索-front-end-template：">探索 Front-End Template：</a></li><li><a href="#添加自定义-react-组件">添加自定义 React 组件</a></li><li><a href="#提交证明">提交证明</a></li><li><a href="#后续步骤">后续步骤</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>开发者中心</h5><a href="/zh-CN/tutorials">教程</a><a href="/docs/zh-CN/">知识库</a><a href="https://substrate.dev/recipes/">进阶菜谱</a><a href="https://substrate.dev/rustdocs">API 文档</a></div><div><h5>社区</h5><a href="/zh-CN/community">社区主页</a><a href="/zh-CN/newsletter">通讯</a><a href="https://app.element.io/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Substrate 技术聊天室</a><a href="/zh-CN/seminar">Substrate 研讨会</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">推特</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">事件 (Events)</a></div><div><h5>更多</h5><a href="https://www.substrate.io/builders-program/">Substrate Builders 计划</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">开发者中心 GitHub</a><a href="https://www.parity.io/privacy/">隐私政策</a><a href="/terms">使用条款</a><a href="#" id="cookie-settings">Cookie 设置<script>
                var cookieSettings = document.getElementById('cookie-settings');
                cookieSettings.onclick = function() {
                  return klaro.show();
                };
              </script></a></div></section><section class="copyright">Copyright © 2021 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-CN"]}
              });
            </script></body></html>