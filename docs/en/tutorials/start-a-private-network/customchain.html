<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Creating Your Private Network ¬∑ Substrate Developer Hub</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="With your custom chain spec created and distributed to all participants, you&#x27;re ready to launch your"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Creating Your Private Network ¬∑ Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="With your custom chain spec created and distributed to all participants, you&#x27;re ready to launch your"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/past-seminars.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/en/tutorials" target="_self">Tutorials</a></li><li class=""><a href="/docs/en/" target="_self">Knowledge Base</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">Recipes</a></li><li class=""><a href="https://substrate.dev/rustdocs/" target="_self">API Reference</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/tutorials/start-a-private-network/customchain">ÁÆÄ‰Ωì‰∏≠Êñá</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>‚Ä∫</i><span>Start a Private Network</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Start a Private Network<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/tutorials/start-a-private-network/">Start a Private Network</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials/start-a-private-network/alicebob">Alice and Bob Start Blockchain</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials/start-a-private-network/keygen">Generate Your Own Keys</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials/start-a-private-network/customspec">Create a Custom Chain Spec</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/tutorials/start-a-private-network/customchain">Creating Your Private Network</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io/edit/source/docs/tutorials/start-a-private-network/customchain.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Creating Your Private Network</h1></header><article><div><span><p>With your custom chain spec created and distributed to all participants, you're ready to launch your
own custom chain. In this section it is no longer required to use a single physical machine or a
single binary.</p>
<h2><a class="anchor" aria-hidden="true" id="first-participant-starts-a-bootnode"></a><a href="#first-participant-starts-a-bootnode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>First Participant Starts a Bootnode</h2>
<p>You've completed all the necessary prep work and you're now ready to launch your chain. This process
is very similar to when you launched a chain earlier, as Alice and Bob. It's important to start with
a clean base path, so if you plan to use the same path that you've used previously, please delete
all contents from that directory.</p>
<p>The first participant can launch her node with:</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># purge chain (only required for new/modified dev chain spec)</span>
./target/release/node-template purge-chain --base-path /tmp/node01 --chain <span class="hljs-built_in">local</span> -y
</code></pre>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># start node01</span>
./target/release/node-template \
  --base-path /tmp/node01 \
  --chain ./customSpecRaw.json \
  --port 30333 \
  --ws-port 9945 \
  --rpc-port 9933 \
  --telemetry-url <span class="hljs-string">'wss://telemetry.polkadot.io/submit/ 0'</span> \
  --validator \
  --rpc-methods Unsafe \
  --name MyNode01
</code></pre>
<p>Here are some differences from when we launched as Alice.</p>
<ul>
<li>I've omitted the <code>--alice</code> flag. Instead we will insert our own custom keys into the keystore
through the RPC shortly.</li>
<li>The <code>--chain</code> flag has changed to use our custom chain spec.</li>
<li>I've added the optional <code>--name</code> flag. You may use it to give your node a human-readable name in
the telemetry UI.</li>
<li>The optional <code>--rpc-methods Unsafe</code> flag has been added. As the name indicates, this flag is not
safe to use in a production setting, but it allows this tutorial to stay focused on the topic at
hand.</li>
</ul>
<p>You should see the console outputs something as follows:</p>
<pre><code class="hljs css language-bash">2021-03-10 18:32:15  Substrate Node
2021-03-10 18:32:15  ‚úåÔ∏è  version 3.0.0-1c5b984-x86_64-linux-gnu
2021-03-10 18:32:15  ‚ù§Ô∏è  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2021
2021-03-10 18:32:15  üìã Chain specification: Local Testnet
2021-03-10 18:32:15  üè∑ Node name: MyNode01
2021-03-10 18:32:15  üë§ Role: AUTHORITY
2021-03-10 18:32:15  üíæ Database: RocksDb at /tmp/node01/chains/local_testnet/db
2021-03-10 18:32:15  ‚õì  Native runtime: node-template-100 (node-template-1.tx1.au1)
2021-03-10 18:32:16  üî® Initializing Genesis block/state (state: 0xea47‚Ä¶9ba8, header-hash: 0x9d07‚Ä¶7cce)
2021-03-10 18:32:16  üë¥ Loading GRANDPA authority <span class="hljs-built_in">set</span> from genesis on what appears to be first startup.
2021-03-10 18:32:16  ‚è±  Loaded block-time = 6000 milliseconds from genesis on first-launch
2021-03-10 18:32:16  Using default protocol ID <span class="hljs-string">"sup"</span> because none is configured <span class="hljs-keyword">in</span> the chain specs
2021-03-10 18:32:16  üè∑ Local node identity is: 12D3KooWJvVUoAa7R8gjCSQ45x69Ahh3HcdVSH1dvpcA52vKawHL
2021-03-10 18:32:16  üì¶ Highest known block at <span class="hljs-comment">#0</span>
2021-03-10 18:32:16  „ÄΩÔ∏è Prometheus server started at 127.0.0.1:9615
2021-03-10 18:32:16  Listening <span class="hljs-keyword">for</span> new connections on 127.0.0.1:9944.
2021-03-10 18:32:21  üí§ Idle (0 peers), best: <span class="hljs-comment">#0 (0x9d07‚Ä¶7cce), finalized #0 (0x9d07‚Ä¶7cce), ‚¨á 0 ‚¨Ü 0</span>
2021-03-10 18:32:26  üí§ Idle (0 peers), best: <span class="hljs-comment">#0 (0x9d07‚Ä¶7cce), finalized #0 (0x9d07‚Ä¶7cce), ‚¨á 0 ‚¨Ü 0</span>
</code></pre>
<blockquote>
<p>Here you must take note of the <strong>node identity</strong>: <code>12D3KooWJvVUoAa7R8gjCSQ45x69Ahh3HcdVSH1dvpcA52vKawHL</code>
and the <strong>IP address</strong> <code>127.0.0.1</code> and p2p port <code>--port = 30333</code>. These values are for this specific
example, but for your node, they will be different and <strong>required</strong> for other nodes to directly connect
to it (without a bootnode in the chain spec, as we removed in the flags before)</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="add-keys-to-keystore"></a><a href="#add-keys-to-keystore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add Keys to Keystore</h2>
<p>Once your node is running, you will again notice that no blocks are being produced. At this point,
you need to add your keys into the keystore. Remember you will need to complete these steps for each
node in your network. You will add two types of keys for each node: Aura and GRANDPA keys. Aura keys
are necessary for
<a href="https://substrate.dev/docs/en/knowledgebase/getting-started/glossary#author">block <em>production</em></a>;
GRANDPA keys are necessary for
<a href="https://substrate.dev/docs/en/knowledgebase/getting-started/glossary#finality">block <em>finalization</em></a>.</p>
<h3><a class="anchor" aria-hidden="true" id="option-1-use-the-polkadot-js-apps-ui"></a><a href="#option-1-use-the-polkadot-js-apps-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 1: Use the Polkadot-JS Apps UI</h3>
<p>You can use the Apps UI to insert your keys into the keystore. Navigate to &quot;Developer --&gt; RPC Call&quot;. Choose
&quot;author&quot; and &quot;insertKey&quot;. The fields can be filled like this:</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-apps-insert-key-aura.png" alt="Inserting a Aura key using Apps"></p>
<pre><code class="hljs">keytype<span class="token punctuation">:</span> aura
suri<span class="token punctuation">:</span> <span class="token operator">&lt;</span>your mnemonic phrase<span class="token operator">></span> <span class="token punctuation">(</span>eg<span class="token punctuation">.</span> clip organ olive upper oak void inject side suit toilet stick narrow<span class="token punctuation">)</span>
publicKey<span class="token punctuation">:</span> <span class="token operator">&lt;</span>your raw sr25519 key<span class="token operator">></span> <span class="token punctuation">(</span>eg<span class="token punctuation">.</span> <span class="token number">0x9effc1668ca381c242885516ec9fa2b19c67b6684c02a8a3237b6862e5c8cd7e</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>If you generated your keys with the Apps UI you will not know your raw public key. In this case
you may use your SS58 address (<code>5FfBQ3kwXrbdyoqLPvcXRp7ikWydXawpNs2Ceu3WwFdhZ8W4</code>) instead.</p>
</blockquote>
<p>You've now successfully inserted your
<a href="https://substrate.dev/docs/en/knowledgebase/getting-started/glossary#aura-aka-authority-round"><strong>Aura</strong></a>
key. You can repeat those steps to insert your
<a href="https://substrate.dev/docs/en/knowledgebase/getting-started/glossary#grandpa"><strong>GRANDPA</strong></a> key (the
<strong>ed25519</strong> key)</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-apps-insert-key-gran.png" alt="Inserting a GRANDPA key using Apps"></p>
<pre><code class="hljs">keytype<span class="token punctuation">:</span> gran
suri<span class="token punctuation">:</span> <span class="token operator">&lt;</span>your mnemonic phrase<span class="token operator">></span> <span class="token punctuation">(</span>eg<span class="token punctuation">.</span> clip organ olive upper oak void inject side suit toilet stick narrow<span class="token punctuation">)</span>
publicKey<span class="token punctuation">:</span> <span class="token operator">&lt;</span>your raw ed25519 key<span class="token operator">></span> <span class="token punctuation">(</span>eg<span class="token punctuation">.</span> <span class="token number">0xb48004c6e1625282313b07d1c9950935e86894a2e4f21fb1ffee9854d180c781</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>If you generated your keys with the Apps UI you will not know your raw public key. In this case
you may use your SS58 address (<code>5G9NWJ5P9uk7am24yCKeLZJqXWW6hjuMyRJDmw4ofqxG8Js2</code>) instead.</p>
</blockquote>
<blockquote>
<p>If you are following these steps for the <em>second</em> node in the network, you must connect the UI to
the second node before inserting the keys.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="option-2-use-curl"></a><a href="#option-2-use-curl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 2: Use <code>curl</code></h3>
<p>You can also insert a key into the keystore by using <a href="https://curl.haxx.se/"><code>curl</code></a> from the
command line. This approach may be preferable in a production setting, where you may be using a
cloud-based virtual private server.</p>
<p>Because security is of the utmost concern in a production environment, it is important to take every
precaution possible. In this case, that means taking care that you do not leave any traces of your
keys behind, such as in your terminal's history. Create a file that you will use to define the body
for your <code>curl</code> request:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"jsonrpc"</span>:<span class="hljs-string">"2.0"</span>,
  <span class="hljs-attr">"id"</span>:<span class="hljs-number">1</span>,
  <span class="hljs-attr">"method"</span>:<span class="hljs-string">"author_insertKey"</span>,
  <span class="hljs-attr">"params"</span>: [
    <span class="hljs-string">"&lt;aura/gran&gt;"</span>,
    <span class="hljs-string">"&lt;mnemonic phrase&gt;"</span>,
    <span class="hljs-string">"&lt;public key&gt;"</span>
  ]
}
</code></pre>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># Submit a new key via RPC, connect to where your `rpc-port` is listening</span>
curl http://localhost:9933 -H <span class="hljs-string">"Content-Type:application/json;charset=utf-8"</span> -d <span class="hljs-string">"@/path/to/file"</span>
</code></pre>
<p>If you enter the command and parameters correctly, the node will return a JSON response as follows.</p>
<pre><code class="hljs css language-json">{ <span class="hljs-attr">"jsonrpc"</span>: <span class="hljs-string">"2.0"</span>, <span class="hljs-attr">"result"</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span> }
</code></pre>
<p>Make sure you delete the file that contains the keys when you are done.</p>
<h3><a class="anchor" aria-hidden="true" id="option-3-use-the-key-command"></a><a href="#option-3-use-the-key-command" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 3: Use the <code>key</code> command</h3>
<p>Alternatively, you can insert a key saved to a local file using the <code>key</code> command:</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># Insert the key from /path/to/key/file into the keystore</span>
./target/release/node-template key insert --base-path /tmp/node01 --chain <span class="hljs-built_in">local</span> --key-type &lt;aura/gran&gt; --suri /path/to/key/file
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="verify-keys-in-the-keystore-optional"></a><a href="#verify-keys-in-the-keystore-optional" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verify Keys in the Keystore (Optional)</h3>
<p>Optionally, If you would like to check that your keys are now loaded, you can view the keystore files that should
now exists for your <code>node01</code>. These are found in the following (default example) location:</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># The path stems from `--base-path` and ID from `chain_spec.rs` ID field.</span>
<span class="hljs-comment"># Keys are then in `chains/&lt;chain ID&gt;/keystore :</span>
ls /tmp/node01/chains/local_testnet/keystore
</code></pre>
<pre><code class="hljs css language-bash"><span class="hljs-comment">## list of keystore files:</span>
617572619effc1668ca381c242885516ec9fa2b19c67b6684c02a8a3237b6862e5c8cd7e
6772616eb48004c6e1625282313b07d1c9950935e86894a2e4f21fb1ffee9854d180c781

<span class="hljs-comment"># read a keystore file (our demo seed 1 was used)</span>
cat /tmp/node01/chains/local_testnet/keystore/617572619effc1668ca381c242885516ec9fa2b19c67b6684c02a8a3237b6862e5c8cd7e
<span class="hljs-string">"clip organ olive upper oak void inject side suit toilet stick narrow"</span>
</code></pre>
<p>Notice there are two keystores, as expected as we added two keys to our node.
This example used <a href="keygen#pair-1">pair 1</a> from the well known seeds here, and
will use <a href="keygen#pair-2">pair 2</a> for our next node, where your keys may differ.</p>
<!-- TODO: update below with example of successful use (not working for me at time of writing) -->
<!--
You can also set a non-standard keystore file for your node with the flags:
  keystore-path <PATH> - Specify custom keystore path
  keystore-uri <keystore-uri> - Specify custom URIs to connect to for keystore-services
-->
<h2><a class="anchor" aria-hidden="true" id="subsequent-participants-join"></a><a href="#subsequent-participants-join" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Subsequent Participants Join</h2>
<p>Subsequent validators can now join the network. This can be done by specifying the <code>--bootnodes</code>
parameter as Bob did previously.</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># purge chain (only required for new/modified dev chain spec)</span>
./target/release/node-template purge-chain --base-path /tmp/node02 --chain <span class="hljs-built_in">local</span> -y

<span class="hljs-comment"># start node02</span>
./target/release/node-template \
  --base-path /tmp/node02 \
  --chain ./customSpecRaw.json \
  --port 30334 \
  --ws-port 9946 \
  --rpc-port 9934 \
  --telemetry-url <span class="hljs-string">'wss://telemetry.polkadot.io/submit/ 0'</span> \
  --validator \
  --rpc-methods Unsafe \
  --name MyNode02 \
  --bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWAvdwXzjmRpkHpz8PzUTaX1o23SdpgAWVyTGMSQ68QXK6
  <span class="hljs-comment"># you MUST fill the correct info in the line above:</span>
  <span class="hljs-comment"># --bootnodes /ip4/&lt;IP Address&gt;/tcp/&lt;p2p Port&gt;/p2p/&lt;Peer ID&gt;</span>
</code></pre>
<blockquote>
<p>If you didn't set the correct node ID gathered from another running with the same chain spec,
but only the right IP - you will get errors of the form:
<code>üíî The bootnode you want to connect to at ... provided a different peer ID than the one you expect: ...</code></p>
</blockquote>
<p>As before, we specify another <code>base-path</code>, give it another <code>name</code>, and also specify this node as a
<code>validator</code>.</p>
<blockquote>
<p><strong>Block production</strong>: Now you <em>must</em> also set the authoring keys in this node, just as we did
<a href="#add-keys-to-keystore">for the first node</a>. Note that you will need to communicate with your node
on the correct <code>ws-port</code> (so setting the app UI and submitting <code>curl</code> to the right port is critical)
A node will not be able to produce blocks if it has not added its Aura key!</p>
<p><strong>Block finalization</strong>: This can <em>only</em> happen if more than two-thirds of the validators have added their
GRANDPA keys to their keystores. Since this network was configured with two validators (in the
chain spec), block finalization can occur after the second node has added its keys (i.e. 50% &lt; 66%
&lt; 100%).</p>
</blockquote>
<blockquote>
<p><strong>Reminder:</strong> All validators must be using <em>identical chain specifications</em> in order to peer. You should
see the same genesis block and state root hashes.</p>
</blockquote>
<p>Once the second node is running <em>and</em> it has an authoring key, you should see both nodes reporting block authoring:</p>
<pre><code class="hljs css language-bash">2021-03-18 16:43:10  Substrate Node
2021-03-18 16:43:10  ‚úåÔ∏è  version 3.0.0-c528fd2-x86_64-linux-gnu
2021-03-18 16:43:10  ‚ù§Ô∏è  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2021
2021-03-18 16:43:10  üìã Chain specification: Local Testnet
2021-03-18 16:43:10  üè∑ Node name: MyNode02
2021-03-18 16:43:10  üë§ Role: AUTHORITY
2021-03-18 16:43:10  üíæ Database: RocksDb at /tmp/node02/chains/local_testnet/db
2021-03-18 16:43:10  ‚õì  Native runtime: node-template-100 (node-template-1.tx1.au1)
2021-03-18 16:43:10  Using default protocol ID <span class="hljs-string">"sup"</span> because none is configured <span class="hljs-keyword">in</span> the chain specs
2021-03-18 16:43:10  üè∑ Local node identity is: 12D3KooWDfpXmPtsvLCFTh4mKybYi6MvDMDiUrnRDcGZiSTR2GHp
2021-03-18 16:43:10  üì¶ Highest known block at <span class="hljs-comment">#1</span>
2021-03-18 16:43:10  Listening <span class="hljs-keyword">for</span> new connections on 127.0.0.1:9946.
2021-03-18 16:43:11  üîç Discovered new external address <span class="hljs-keyword">for</span> our node: /ip4/127.0.0.1/tcp/30334/p2p/12D3KooWDfpXmPtsvLCFTh4mKybYi6MvDMDiUrnRDcGZiSTR2GHp
2021-03-18 16:43:12  üôå Starting consensus session on top of parent 0x700fda8b9c7574553eccc8acc72e2dec59e40711e743223d67c3e5b57e1f76ef
2021-03-18 16:43:12  ‚ôªÔ∏è  Reorg on <span class="hljs-comment">#1,0x700f‚Ä¶76ef to #2,0xe111‚Ä¶c084, common ancestor #0,0x2776‚Ä¶8ba7</span>
2021-03-18 16:43:12  ‚ú® Imported <span class="hljs-comment">#2 (0xe111‚Ä¶c084)</span>
2021-03-18 16:43:12  Timeout fired waiting <span class="hljs-keyword">for</span> transaction pool at block <span class="hljs-comment">#1. Proceeding with production.</span>
2021-03-18 16:43:12  üéÅ Prepared block <span class="hljs-keyword">for</span> proposing at 2 [<span class="hljs-built_in">hash</span>: 0xc590a846ff17871ffdcdd670914321f667cd6ad0b898bfb6d25f7dd68fff478b; parent_hash: 0x700f‚Ä¶76ef; extrinsics (1): [0x34d6‚Ä¶ed56]]
2021-03-18 16:43:12  üîñ Pre-sealed block <span class="hljs-keyword">for</span> proposal at 2. Hash now 0x38b29b343d8f6ef56286a2f3aad20c82ae75d5bb0698569dd06fca654dae6fa6, previously 0xc590a846ff17871ffdcdd670914321f667cd6ad0b898bfb6d25f7dd68fff478b.
2021-03-18 16:43:12  ‚ú® Imported <span class="hljs-comment">#2 (0x38b2‚Ä¶6fa6)</span>
2021-03-18 16:43:15  üí§ Idle (1 peers), best: <span class="hljs-comment">#2 (0xe111‚Ä¶c084), finalized #0 (0x2776‚Ä¶8ba7), ‚¨á 1.4kiB/s ‚¨Ü 1.4kiB/s</span>
</code></pre>
<p>The final lines shows that your node has peered with another (<strong><code>1 peers</code></strong>), and they have produced
a block (<strong><code>best: #2 (0xe111‚Ä¶c084)</code></strong>)!</p>
<blockquote>
<p>But do notice that even after you add the GRANDPA key for the second node no block finalization has
happened (<strong><code>finalized #0 (0x2776‚Ä¶8ba7)</code></strong>).
<strong>Substrate nodes require a restart after inserting a GRANDPA key.</strong>
Kill your nodes and restart them with the same commands you used previously.
Now blocks should be finalized!</p>
</blockquote>
<pre><code class="hljs css language-bash">...
2021-03-18 16:47:47  üí§ Idle (1 peers), best: <span class="hljs-comment">#46 (0xfaf1‚Ä¶02f8), finalized #44 (0x9b08‚Ä¶09ea), ‚¨á 1.3kiB/s ‚¨Ü 1.3kiB/s</span>
2021-03-18 16:47:48  ‚ú® Imported <span class="hljs-comment">#47 (0x7375‚Ä¶aa51)</span>
2021-03-18 16:47:52  üí§ Idle (1 peers), best: <span class="hljs-comment">#47 (0x7375‚Ä¶aa51), finalized #45 (0x7c13‚Ä¶7575), ‚¨á 0.8kiB/s ‚¨Ü 0.6kiB/s</span>
2021-03-18 16:47:54  üôå Starting consensus session on top of parent 0x73757e1773e6d86a9ef4a3ec9c3a55eef04345705c0a51f04445af657184aa51
2021-03-18 16:47:54  üéÅ Prepared block <span class="hljs-keyword">for</span> proposing at 48 [<span class="hljs-built_in">hash</span>: 0xd9ef428ccd38426a47a9eca181b508630e327b35ef4c468103ce59fa861e60f6; parent_hash: 0x7375‚Ä¶aa51; extrinsics (1): [0x16f0‚Ä¶dbe6]]
2021-03-18 16:47:54  üîñ Pre-sealed block <span class="hljs-keyword">for</span> proposal at 48. Hash now 0x23a93d8e6bbbcf9f36e61264cc3a48a426a7f1112ff48df76f0d55b52c181156, previously 0xd9ef428ccd38426a47a9eca181b508630e327b35ef4c468103ce59fa861e60f6.
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="youre-finished"></a><a href="#youre-finished" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>You're Finished</h2>
<p>Congratulations! You've started your own blockchain!</p>
<p>In this tutorial you've learned to generate your own keypairs, create a custom chain spec that uses
those keypairs, and start a private network based on your custom chain spec.</p>
<h3><a class="anchor" aria-hidden="true" id="solutions-and-helpers"></a><a href="#solutions-and-helpers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solutions and Helpers</h3>
<p>If you would like examples of correct JSON keystore <code>curl</code> files with a known working chainspec, see the
<a href="https://github.com/substrate-developer-hub/substrate-node-template/tree/tutorials/solutions/private-chain-v3">solution</a>, you can use the extra files with your already cloned and compiled node, no need to
start from scratch.</p>
<!-- TODO link to the followup tutorial about starting a 3 node network using the demo substrate node
Details in https://github.com/substrate-developer-hub/tutorials/issues/16 -->
<h3><a class="anchor" aria-hidden="true" id="learn-more"></a><a href="#learn-more" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learn More</h3>
<p>That big Wasm blob we encountered in the chain spec was necessary to enable forkless upgrades.
Learn more about how the <a href="../../knowledgebase/advanced/executor">executor</a> uses on-chain Wasm.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 5/18/2021 by Pierre Besson</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/tutorials/start-a-private-network/customspec"><span class="arrow-prev">‚Üê </span><span>Create a Custom Chain Spec</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#first-participant-starts-a-bootnode">First Participant Starts a Bootnode</a></li><li><a href="#add-keys-to-keystore">Add Keys to Keystore</a><ul class="toc-headings"><li><a href="#option-1-use-the-polkadot-js-apps-ui">Option 1: Use the Polkadot-JS Apps UI</a></li><li><a href="#option-2-use-curl">Option 2: Use <code>curl</code></a></li><li><a href="#option-3-use-the-key-command">Option 3: Use the <code>key</code> command</a></li><li><a href="#verify-keys-in-the-keystore-optional">Verify Keys in the Keystore (Optional)</a></li></ul></li><li><a href="#subsequent-participants-join">Subsequent Participants Join</a></li><li><a href="#youre-finished">You're Finished</a><ul class="toc-headings"><li><a href="#solutions-and-helpers">Solutions and Helpers</a></li><li><a href="#learn-more">Learn More</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>Developer Hub</h5><a href="/en/tutorials">Tutorials</a><a href="/docs/en/">Knowledge Base</a><a href="https://substrate.dev/recipes/">Recipes</a><a href="https://substrate.dev/rustdocs">API Reference</a></div><div><h5>Community</h5><a href="/en/community">Community Home</a><a href="/en/newsletter">Newsletter</a><a href="https://app.element.io/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Substrate Technical Chat</a><a href="/en/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/substrate_io" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.substrate.io/builders-program/">Substrate Builders Program</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="/terms">Terms of Use</a><a href="#" id="cookie-settings">Cookie Settings<script>
                var cookieSettings = document.getElementById('cookie-settings');
                cookieSettings.onclick = function() {
                  return klaro.show();
                };
              </script></a></div></section><section class="copyright">Copyright ¬© 2021 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en"]}
              });
            </script></body></html>