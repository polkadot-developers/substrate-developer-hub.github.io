<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Debugging · Substrate Developer Hub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Debugging is a necessity in all walks of software development, and blockchain is no exception. Most"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Debugging · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="Debugging is a necessity in all walks of software development, and blockchain is no exception. Most"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/redirect-next.js"></script><script type="text/javascript" src="/js/ui.js" defer=""></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/en/tutorials" target="_self">Tutorials</a></li><li class="siteNavGroupActive"><a href="/docs/en/" target="_self">Knowledge Base</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">Recipes</a></li><li class=""><a href="https://substrate.dev/rustdocs/" target="_self">Reference Documents</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ru/knowledgebase/runtime/debugging">Русский</a></li><li><a href="/docs/zh-CN/knowledgebase/runtime/debugging">中文</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Runtime</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/windows-users">Getting Started on Windows</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/glossary">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Learn Substrate<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/extrinsics">Extrinsics</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/tx-pool">Transaction Pool</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/account-abstractions">Account Abstractions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/session-keys">Session Keys</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/weight">Transaction Weight</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/off-chain-workers">Off-Chain Workers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Runtime<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/primitives">Runtime Primitives</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/frame">FRAME</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/pallets">Pallets</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/macros">Runtime Macros</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/metadata">Runtime Metadata</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/storage">Runtime Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/origin">Runtime Origin</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/execution">Runtime Execution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/events">Runtime Events</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/fees">Transaction Fees</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/off-chain-workers">Off-Chain Workers</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/knowledgebase/runtime/debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/tests">Runtime Tests</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/randomness">On-Chain Randomness</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Smart Contracts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/">ink! Smart Contracts</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/ink-fundamentals">ink! Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/env-types">Smart Contract Runtime Environment Types</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/ink-development">ink! Development</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/evm-pallet">EVM Pallet</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/faq">ink! F.A.Q.</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Integrate<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/polkadot-js">Polkadot-JS</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/libraries">Client Libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/chain-spec">Chain Specification</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/subkey">The subkey Tool</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/memory-profiling">Memory Profiling</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/codec">SCALE Codec</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/consensus">Consensus</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/block-import">The Block Import Pipeline</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/executor">Executor</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/cryptography">Cryptography</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/storage">Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/ss58-address-format">SS58 Address Format</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Contribute<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/contribute/help-translate">Help Translate</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io/edit/source/docs/knowledgebase/runtime/debugging.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Debugging</h1></header><article><div><span><p>Debugging is a necessity in all walks of software development, and blockchain is no exception. Most
of the same tools used for general purpose Rust debugging also apply to Substrate. However, there
are some restrictions when operating inside of a <code>no_std</code> environment like the Substrate runtime.</p>
<h2><a class="anchor" aria-hidden="true" id="substrates-own-print-function"></a><a href="#substrates-own-print-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Substrate's Own <code>print</code> Function</h2>
<p>To facilitate the debugging of the runtime, Substrate provides extra tools for <code>Print</code> debugging (or
tracing). You can use the
<a href="https://substrate.dev/rustdocs/v2.0.0-rc5/sp_runtime/fn.print.html"><code>print</code> function</a> to log the status
of the runtime execution.</p>
<pre><code class="hljs css language-rust"><span class="token keyword">use</span> sp_runtime<span class="token punctuation">::</span>print<span class="token punctuation">;</span>

<span class="token comment">// --snip--</span>
<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">do_something</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span> <span class="token punctuation">-></span> DispatchResult <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Execute do_something"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> who <span class="token operator">=</span> <span class="token function">ensure_signed</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> my_val<span class="token punctuation">:</span> u32 <span class="token operator">=</span> <span class="token number">777</span><span class="token punctuation">;</span>

    Something<span class="token punctuation">::</span><span class="token function">put</span><span class="token punctuation">(</span>my_val<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"After storing my_val"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token function">deposit_event</span><span class="token punctuation">(</span>RawEvent<span class="token punctuation">::</span><span class="token function">SomethingStored</span><span class="token punctuation">(</span>my_val<span class="token punctuation">,</span> who<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// --snip--</span>
</code></pre>
<p>Start the chain using the <code>RUST_LOG</code> environment variable to see the print logs.</p>
<pre><code class="hljs css language-sh">RUST_LOG=runtime=debug ./target/release/node-template --dev
</code></pre>
<p>The values are printed in the terminal or the standard output if the Error gets triggered.</p>
<pre><code class="hljs css language-sh">2020-01-01 00:00:00 tokio-blocking-driver DEBUG runtime  Execute do_something
2020-01-01 00:00:00 tokio-blocking-driver DEBUG runtime  After storing my_val
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="printable-trait"></a><a href="#printable-trait" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Printable Trait</h2>
<p>The Printable trait is meant to be a way to print from the runtime in <code>no_std</code> and in <code>std</code>. The
<code>print</code> function works with any type that implements the
<a href="https://substrate.dev/rustdocs/v2.0.0-rc5/sp_runtime/traits/trait.Printable.html"><code>Printable</code> trait</a>.
Substrate implements this trait for some types (<code>u8</code>, <code>u32</code>, <code>u64</code>, <code>usize</code>, <code>&amp;[u8]</code>, <code>&amp;str</code>) by
default. You can also implement it for your own custom types. Here is an example of implementing it
for a pallet's <code>Error</code> type using the node-template as the example codebase.</p>
<pre><code class="hljs css language-rust"><span class="token keyword">use</span> sp_runtime<span class="token punctuation">::</span>traits<span class="token punctuation">::</span>Printable<span class="token punctuation">;</span>
<span class="token keyword">use</span> sp_runtime<span class="token punctuation">::</span>print<span class="token punctuation">;</span>
</code></pre>
<pre><code class="hljs css language-rust"><span class="token comment">// The pallet's errors</span>
<span class="token macro-rules function">decl_error!</span> <span class="token punctuation">{</span>
    <span class="token keyword">pub</span> <span class="token keyword">enum</span> Error <span class="token keyword">for</span> Module<span class="token operator">&lt;</span>T<span class="token punctuation">:</span> Trait<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment">/// Value was None</span>
        NoneValue<span class="token punctuation">,</span>
        <span class="token comment">/// Value reached maximum and cannot be incremented further</span>
        StorageOverflow<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span><span class="token operator">&lt;</span>T<span class="token punctuation">:</span> Trait<span class="token operator">></span> Printable <span class="token keyword">for</span> Error<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">match</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
            Error<span class="token punctuation">::</span>NoneValue <span class="token operator">=></span> <span class="token string">"Invalid Value"</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            Error<span class="token punctuation">::</span>StorageOverflow <span class="token operator">=></span> <span class="token string">"Value Exceeded and Overflowed"</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            _ <span class="token operator">=></span> <span class="token string">"Invalid Error Case"</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="hljs css language-rust"><span class="token comment">/// takes no parameters, attempts to increment storage value, and possibly throws an error</span>
<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">cause_error</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span> <span class="token punctuation">-></span> dispatch<span class="token punctuation">::</span>DispatchResult <span class="token punctuation">{</span>
    <span class="token comment">// Check it was signed and get the signer. See also: ensure_root and ensure_none</span>
    <span class="token keyword">let</span> _who <span class="token operator">=</span> <span class="token function">ensure_signed</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"My Test Message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">match</span> Something<span class="token punctuation">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        None <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span>Error<span class="token punctuation">::</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">::</span>NoneValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">::</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">::</span>NoneValue<span class="token punctuation">)</span><span class="token operator">?</span>
        <span class="token punctuation">}</span>
        <span class="token function">Some</span><span class="token punctuation">(</span>old<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> new <span class="token operator">=</span> old<span class="token punctuation">.</span><span class="token function">checked_add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ok_or</span><span class="token punctuation">(</span>
                <span class="token punctuation">{</span>
                    <span class="token function">print</span><span class="token punctuation">(</span>Error<span class="token punctuation">::</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">::</span>StorageOverflow<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    Error<span class="token punctuation">::</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">::</span>StorageOverflow
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
            Something<span class="token punctuation">::</span><span class="token function">put</span><span class="token punctuation">(</span>new<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Run the node binary with the RUST_LOG environment variable to print the values.</p>
<pre><code class="hljs css language-sh">RUST_LOG=runtime=debug ./target/release/node-template --dev
</code></pre>
<p>The values are printed in the terminal or the standard output every time that the runtime function
gets called.</p>
<pre><code class="hljs css language-rust"><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  My Test Message  <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> str implements Printable by default
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  Invalid Value    <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> the custom string from NoneValue
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  DispatchError
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  <span class="token number">8</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  <span class="token number">0</span>                <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> index value from the Error <span class="token keyword">enum</span> definition
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> tokio<span class="token operator">-</span>blocking<span class="token operator">-</span>driver DEBUG runtime  NoneValue        <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> str which holds the name of the ident of the error
</code></pre>
<blockquote>
<p>IMPORTANT: Adding many print functions to the runtime will produce a bigger binary and wasm blob
with debug code not needed in production.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="if-std"></a><a href="#if-std" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>If Std</h2>
<p>The <code>print</code> function works well when you just want to print and you have an implementation of the
<code>Printable</code> trait. In some cases you may want to do more than print, or not bother with
Substrate-specific traits just for debugging purposes. The
<a href="https://substrate.dev/rustdocs/v2.0.0-rc5/sp_std/macro.if_std.html"><code>if_std!</code> macro</a> is for exactly
this situation.</p>
<p>One caveat of using this macro is that the code inside will only execute when you are actually
running the native version of the runtime.</p>
<pre><code class="hljs css language-rust"><span class="token keyword">use</span> sp_std<span class="token punctuation">::</span>if_std<span class="token punctuation">;</span> <span class="token comment">// Import into scope the if_std! macro.</span>
</code></pre>
<p>The <code>println!</code> statement should be inside of the <code>if_std</code> macro.</p>
<pre><code class="hljs css language-rust"><span class="token macro-rules function">decl_module!</span> <span class="token punctuation">{</span>

        <span class="token comment">// --snip--</span>
        <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">do_something</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span> <span class="token punctuation">-></span> DispatchResult <span class="token punctuation">{</span>

            <span class="token keyword">let</span> who <span class="token operator">=</span> <span class="token function">ensure_signed</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> my_val<span class="token punctuation">:</span> u32 <span class="token operator">=</span> <span class="token number">777</span><span class="token punctuation">;</span>

            Something<span class="token punctuation">::</span><span class="token function">put</span><span class="token punctuation">(</span>my_val<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token macro-rules function">if_std!</span> <span class="token punctuation">{</span>
                <span class="token comment">// This code is only being compiled and executed when the `std` feature is enabled.</span>
                <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">"Hello native world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">"My value is: {:#?}"</span><span class="token punctuation">,</span> my_val<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">"The caller account is: {:#?}"</span><span class="token punctuation">,</span> who<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token function">deposit_event</span><span class="token punctuation">(</span>RawEvent<span class="token punctuation">::</span><span class="token function">SomethingStored</span><span class="token punctuation">(</span>my_val<span class="token punctuation">,</span> who<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// --snip--</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The values are printed in the terminal or the standard output every time that the runtime function
gets called.</p>
<pre><code class="hljs css language-sh">$       2020-01-01 00:00:00 Substrate Node
        2020-01-01 00:00:00   version x.y.z-x86_64-linux-gnu
        2020-01-01 00:00:00   by Anonymous, 2017, 2020
        2020-01-01 00:00:00 Chain specification: Development
        2020-01-01 00:00:00 Node name: my-node-007
        2020-01-01 00:00:00 Roles: AUTHORITY
        2020-01-01 00:00:00 Imported 999 (0x3d7a…ab6e)
        <span class="hljs-comment"># --snip--</span>
-&gt;      Hello native world!
-&gt;      My value is: 777
-&gt;      The <span class="hljs-built_in">caller</span> account is: d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d (5GrwvaEF...)
        <span class="hljs-comment"># --snip--</span>
        2020-01-01 00:00:00 Imported 1000 (0x3d7a…ab6e)

</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 7/27/2020 by Dan Forbes</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/knowledgebase/runtime/off-chain-workers"><span class="arrow-prev">← </span><span>Off-Chain Workers</span></a><a class="docs-next button" href="/docs/en/knowledgebase/runtime/tests"><span>Runtime Tests</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#substrates-own-print-function">Substrate's Own <code>print</code> Function</a></li><li><a href="#printable-trait">Printable Trait</a></li><li><a href="#if-std">If Std</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>Developer Hub</h5><a href="/en/tutorials">Tutorials</a><a href="/docs/en/">Knowledge Base</a><a href="https://substrate.dev/recipes/">Recipes</a><a href="https://substrate.dev/rustdocs">Reference Documents</a></div><div><h5>Community</h5><a href="/en/community">Community Home</a><a href="/en/newsletter">Newsletter</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="/en/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.substrate.io/builders-program/">Substrate Builders Program</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="/terms">Terms of Use</a><a href="#" id="cookie-settings">Cookie Settings<script>
              var cookieSettings = document.getElementById('cookie-settings');
              cookieSettings.onclick = function() {
                return klaro.show();
              };
              </script></a></div></section><section class="copyright">Copyright © 2020 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en"]}
              });
            </script></body></html>