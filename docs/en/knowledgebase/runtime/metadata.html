<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Metadata · Substrate Developer Hub</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Blockchains that are built on Substrate expose metadata in order to make it easier to interact with"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Metadata · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="Blockchains that are built on Substrate expose metadata in order to make it easier to interact with"/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/past-seminars.js"></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/en/tutorials" target="_self">Tutorials</a></li><li class="siteNavGroupActive"><a href="/docs/en/" target="_self">Knowledge Base</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">Recipes</a></li><li class=""><a href="https://substrate.dev/substrate-how-to-guides/" target="_self">How-to Guides</a></li><li class=""><a href="https://substrate.dev/rustdocs/" target="_self">Reference</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/knowledgebase/runtime/metadata">简体中文</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Runtime Development</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/architecture">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/windows-users">Getting Started on Windows</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/getting-started/glossary">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Substrate Key Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/">Runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/extrinsics">Extrinsics</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/account-abstractions">Account Abstractions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/tx-pool">Transaction Pool</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/session-keys">Session Keys</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/weight">Transaction Weights</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/learn-substrate/off-chain-features">Off-Chain Features</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Runtime Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/pallets">Pallets</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/frame">FRAME</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/macros">Macros</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/knowledgebase/runtime/metadata">Metadata</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/storage">Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/origin">Origin</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/execution">Execution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/events">Events</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/errors">Errors</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/fees">Transaction Fees and Weights</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/benchmarking">Benchmarking</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/tests">Tests</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/randomness">On-Chain Randomness</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/runtime/upgrades">Upgrades</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Smart Contracts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/contracts-pallet">Contracts Pallet</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/evm-pallet">EVM Pallet</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/smart-contracts/faq">F.A.Q.</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Integrate<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/polkadot-js">Polkadot-JS</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/libraries">Client Libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/chain-spec">Chain Specification</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/subkey">The Subkey Tool</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/integrate/memory-profiling">Memory Profiling</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/account-info">Account Information</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/codec">SCALE Codec</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/consensus">Consensus</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/block-import">The Block Import Pipeline</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/executor">Runtime Executor</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/cryptography">Cryptography</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/storage">Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/ss58-address-format">SS58 Address Format</a></li><li class="navListItem"><a class="navItem" href="/docs/en/knowledgebase/advanced/no-hash-collections">Why are there no Hash collections in sp_std?</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Contribute<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/contribute/help-translate">Help Translate</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/substrate-developer-hub/substrate-developer-hub.github.io/edit/source/docs/knowledgebase/runtime/metadata.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Metadata</h1></header><article><div><span><p>Blockchains that are built on Substrate expose metadata in order to make it easier to interact with
them. This metadata is separated by the different <a href="pallets">pallets</a> that inform your blockchain.
For each module, the metadata provides information about the <a href="storage">storage items</a>,
<a href="../learn-substrate/extrinsics">extrinsic calls</a>, <a href="events">events</a>, constants, and errors that are
exposed by that module. Substrate automatically generates this metadata for you and makes it
available through RPC calls.</p>
<p>Since the runtime of a Substrate blockchain is an evolving part of the blockchain's state,
blockchain metadata is stored on a per-block basis. Be aware that querying the metadata for an older
block (with an archive node, for example) could result in acquiring out-of-date metadata that is not
compatible with a blockchain's current state. As described in the
<a href="upgrades">Upgrades documentation</a>, developers building on top of Substrate chains can
expect that the metadata for a chain should <em>only</em> change when the chain's
<a href="https://substrate.dev/rustdocs/latest/sp_version/struct.RuntimeVersion.html#structfield.spec_version">runtime <code>spec_version</code></a>
changes.</p>
<p>All examples in this document were taken from block 1,768,321 on Kusama. You can look at the
<a href="https://gist.github.com/insipx/db5e49c0160b1f1bd421a3c34fefdf48">full metadata</a> before reading the
rest of this document and continue to refer to it as you proceed.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-get-the-metadata"></a><a href="#how-to-get-the-metadata" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to Get the Metadata</h2>
<p>There are a number of language-specific libraries that you can use to fetch metadata from a
Substrate node, as well as language-agnostic HTTP and WebSocket APIs.</p>
<h3><a class="anchor" aria-hidden="true" id="rust"></a><a href="#rust" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rust</h3>
<p>The easiest way to get the metadata is by querying the automatically-generated JSON-RPC function
<code>state_getMetadata</code>. This will return a vector of SCALE-encoded bytes. You can decode this using the
<a href="https://substrate.dev/rustdocs/latest/frame_metadata/index.html"><code>frame-metadata</code></a> and
<a href="https://substrate.dev/rustdocs/latest/parity_scale_codec/index.html"><code>parity-scale-codec</code></a> libraries.</p>
<p>Some helpful libraries like <a href="https://github.com/paritytech/substrate-subxt"><code>substrate-subxt</code></a> fetch
the metadata and decode them for you. Once decoded, the structure may be serialized into JSON with
<a href="https://serde.rs/"><code>serde</code></a>. If you'd prefer to use the RPC more directly, the
<a href="https://github.com/paritytech/jsonrpc">JSONRPC</a> and
<a href="https://github.com/paritytech/jsonrpsee">jsonrpsee</a> Rust libraries provide interfaces to do so.</p>
<h3><a class="anchor" aria-hidden="true" id="javascript"></a><a href="#javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Javascript</h3>
<p>If you are using Javascript, <a href="https://polkadot.js.org/api/"><code>polkadot-js/api</code></a> already provides APIs
to interact with a Substrate blockchain, including the
<a href="https://polkadot.js.org/docs/substrate/rpc#getmetadataat-blockhash-metadata"><code>getMetadata</code></a> function.</p>
<p>You can try the following code snippets to fetch the metadata in this
<a href="https://polkadot.js.org/apps/#/js">Polkadot-JS App - Javascript page</a>:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// To run with node.js, first: $ yarn add $polkadot/api</span>
<span class="hljs-comment">// then add commented lines:</span>
<span class="hljs-comment">// const { ApiPromise } = require('@polkadot/api');</span>
<span class="hljs-comment">// async function main () {</span>
<span class="hljs-comment">// const api = await ApiPromise.create();</span>
<span class="hljs-keyword">const</span> metadata = <span class="hljs-keyword">await</span> api.rpc.state.getMetadata();
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'version: '</span> + metadata.version);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Magic number: "</span> + metadata.magicNumber);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Metadata: "</span> + <span class="hljs-built_in">JSON</span>.stringify(metadata.asLatest.toHuman(), <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
<span class="hljs-comment">// }</span>
<span class="hljs-comment">// main().catch(console.error);</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="http--websocket-apis"></a><a href="#http--websocket-apis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP &amp; WebSocket APIs</h3>
<p>Substrate nodes expose <a href="https://substrate.dev/rustdocs/latest/sc_rpc/index.html">a JSON-RPC API</a> that you can
access by way of <strong>HTTP</strong> or <strong>WebSocket</strong> requests. The message to
<a href="https://substrate.dev/rustdocs/latest/sc_rpc/state/struct.StateClient.html#method.metadata">request metadata</a>
from a node looks like this:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"jsonrpc"</span>: <span class="hljs-string">"2.0"</span>,
  <span class="hljs-attr">"method"</span>: <span class="hljs-string">"state_getMetadata"</span>,
  <span class="hljs-attr">"params"</span>: []
}
</code></pre>
<p>You can leave <code>params</code> empty, or if you want to fetch the metadata for a specific block, provide the
block's hash:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"jsonrpc"</span>: <span class="hljs-string">"2.0"</span>,
  <span class="hljs-attr">"method"</span>: <span class="hljs-string">"state_getMetadata"</span>,
  <span class="hljs-attr">"params"</span>: [<span class="hljs-string">"0xca15c2f1e1540517697b6b5f2cc6bc0c60876a1a1af604269b7215970798bbed"</span>]
}
</code></pre>
<p>In the example above, <code>0xca15c2f1e1540517697b6b5f2cc6bc0c60876a1a1af604269b7215970798bbed</code> is the
hash of block 1,768,321.</p>
<p>The response has the following format:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"jsonrpc"</span>: <span class="hljs-string">"2.0"</span>,
  <span class="hljs-attr">"result"</span>: <span class="hljs-string">"0x6d6574610b7c1853797374656d011853797374656d3c1c4163636f756e7401010230543a3a4163636f756e744964944163..."</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>
}
</code></pre>
<p>The <code>result</code> field contains the blockchain metadata as a <a href="../advanced/codec">SCALE-encoded</a>
hexadecimal string. The example above represents the actual value that is returned for block
1,768,321; you can check for yourself by using a WebSocket client to query a node. Continue reading
to learn more about the format of this encoded blob as well as
<a href="https://gist.githubusercontent.com/insipx/db5e49c0160b1f1bd421a3c34fefdf48/raw/2c33ff080bec84f0627610124c732deb30a0adc7/meta_block_1768321.json">its decoded format</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="metadata-formats"></a><a href="#metadata-formats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metadata Formats</h2>
<p>This section will briefly review the SCALE-encoded metadata that is represented as a hexadecimal
string before taking a more detailed look at the metadata's decoded format.</p>
<h3><a class="anchor" aria-hidden="true" id="encoded-metadata-format"></a><a href="#encoded-metadata-format" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Encoded Metadata Format</h3>
<p>The hex blob that is returned by the JSON-RPCs <code>state_getMetadata</code> method starts with a hard-coded
magic number, <code>0x6d657461</code>, which represents &quot;meta&quot; in plain text. The next piece of data (<code>0x0b</code> in
the example above) represents the metadata version; decoding the hexadecimal value <code>0x0b</code> yields the
decimal value 11, which is
<a href="https://substrate.dev/rustdocs/latest/frame_metadata/enum.RuntimeMetadata.html">the version of the Substrate metadata format</a>
that the result encodes. After the metadata version, the next piece of information encoded in the
result field is the number of pallets that inform the blockchain's runtime; in the example above,
the hexadecimal value <code>0x7c</code> represents the decimal number 31, which is SCALE-encoded by taking its
binary representation (<code>11111</code> or <code>0x1F</code> in hex), shifting it two bits to the left (<code>1111100</code>) and
encoding that as hex.</p>
<p>The remaining blob encodes
<a href="https://substrate.dev/rustdocs/latest/frame_metadata/struct.ModuleMetadata.html">the metadata of each pallet</a>,
which will be reviewed below as well as some
<a href="https://substrate.dev/rustdocs/latest/frame_metadata/struct.ExtrinsicMetadata.html">extrinsic metadata</a>, which
is mostly out of the scope of this document.</p>
<h3><a class="anchor" aria-hidden="true" id="decoded-metadata-format"></a><a href="#decoded-metadata-format" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decoded Metadata Format</h3>
<p>Here is a condensed version of decoded metadata:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"magicNumber"</span>: <span class="hljs-number">1635018093</span>,
  <span class="hljs-attr">"metadata"</span>: {
    <span class="hljs-attr">"V12"</span>: {
      <span class="hljs-attr">"modules"</span>: [
        {
          <span class="hljs-comment">// ...</span>
        },
        {
          <span class="hljs-comment">// ...</span>
        }
      ],
      <span class="hljs-attr">"extrinsic"</span>: {
        <span class="hljs-attr">"version"</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">"signedExtensions"</span>: [
          <span class="hljs-string">"CheckSpecVersion"</span>,
          <span class="hljs-string">"CheckTxVersion"</span>,
          <span class="hljs-string">"CheckGenesis"</span>,
          <span class="hljs-string">"CheckMortality"</span>,
          <span class="hljs-string">"CheckNonce"</span>,
          <span class="hljs-string">"CheckWeight"</span>,
          <span class="hljs-string">"ChargeTransactionPayment"</span>
        ]
      }
    }
  }
}
</code></pre>
<p>As described above, the integer <code>1635018093</code> is a &quot;magic number&quot; that represents &quot;meta&quot; in plain
text. The rest of the metadata has two sections: <code>modules</code> and <code>extrinsic</code>. The <code>modules</code> section
contains information about the runtime's pallets, while the extrinsic section describes the version
of extrinsics that the runtime is using. Different extrinsic versions may have different formats,
especially when considering <a href="../learn-substrate/extrinsics">signed extrinsics</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="modules"></a><a href="#modules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modules</h4>
<p>Here is a condensed example of a single element in the <code>modules</code> array:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"System"</span>,
  <span class="hljs-attr">"storage"</span>: {
    <span class="hljs-comment">// ..</span>
  },
  <span class="hljs-attr">"calls"</span>: [
    <span class="hljs-comment">// ..</span>
  ],
  <span class="hljs-attr">"events"</span>: [
    <span class="hljs-comment">// ..</span>
  ],
  <span class="hljs-attr">"constants"</span>: [
    <span class="hljs-comment">// ..</span>
  ],
  <span class="hljs-attr">"errors"</span>: [
    <span class="hljs-comment">// ..</span>
  ],
  <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span>
}
</code></pre>
<p>Every element contains the name of the pallet that it represents, as well as a <code>storage</code> object,
<code>calls</code> array, <code>events</code> array, and <code>errors</code> array.</p>
<blockquote>
<p>Note: If <code>calls</code> or <code>events</code> are empty, they will be represented as <code>null</code>; if <code>constants</code> or
<code>errors</code> are empty, they will be represented as an empty array.</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="storage"></a><a href="#storage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Storage</h5>
<p>Here is a condensed example of a single element in the <code>modules</code> array that highlights metadata
about the module's storage:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"System"</span>,
  <span class="hljs-attr">"storage"</span>: {
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">"System"</span>,
    <span class="hljs-attr">"items"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Account"</span>,
        <span class="hljs-attr">"modifier"</span>: <span class="hljs-string">"Default"</span>,
        <span class="hljs-attr">"type"</span>: {
          <span class="hljs-attr">"Map"</span>: {
            <span class="hljs-attr">"hasher"</span>: <span class="hljs-string">"Blake2_128Concat"</span>,
            <span class="hljs-attr">"key"</span>: <span class="hljs-string">"AccountId"</span>,
            <span class="hljs-attr">"value"</span>: <span class="hljs-string">"AccountInfo"</span>,
            <span class="hljs-attr">"linked"</span>: <span class="hljs-literal">false</span>
          }
        },
        <span class="hljs-attr">"fallback"</span>: <span class="hljs-string">"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,
        <span class="hljs-attr">"documentation"</span>: [
          <span class="hljs-string">" The full account information for a particular account ID."</span>
        ]
      },
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ExtrinsicCount"</span>,
        <span class="hljs-comment">// ..</span>
      },
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"AllExtrinsicsLen"</span>,
        <span class="hljs-comment">// ..</span>
      }
    ]
  },
  <span class="hljs-attr">"calls"</span>: [<span class="hljs-comment">/*...*/</span>],
  <span class="hljs-attr">"events"</span>: [<span class="hljs-comment">/*...*/</span>],
  <span class="hljs-attr">"constants"</span>: [<span class="hljs-comment">/*...*/</span>],
  <span class="hljs-attr">"errors"</span>: [<span class="hljs-comment">/*...*/</span>],
  <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span>
}
</code></pre>
<p>Every storage item that is defined in a pallet will have a corresponding metadata entry. Metadata entries like these are generated from <a href="/docs/en/knowledgebase/runtime/macros">macros</a> using associated types from the <a href="https://substrate.dev/rustdocs/latest/frame_system/pallet/trait.Config.html"><code>frame-system</code></a> crate. For example:</p>
<pre><code class="hljs css language-rust"><span class="token comment">// In FRAME v1.</span>
<span class="token macro property">decl_storage!</span> <span class="token punctuation">{</span>
    <span class="token keyword">trait</span> <span class="token class-name">Store</span> <span class="token keyword">for</span> <span class="token class-name">Module</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token keyword">as</span> <span class="token class-name">System</span> <span class="token punctuation">{</span>
        <span class="token comment">/// The full account information for a particlar account ID.</span>
        <span class="token keyword">pub</span> <span class="token class-name">Account</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token function-definition function">account</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            map <span class="token function">hasher</span><span class="token punctuation">(</span>blake2_128_concat<span class="token punctuation">)</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">AccountId</span> <span class="token operator">=></span> <span class="token class-name">AccountInfo</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Index</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">AccountData</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// In FRAME v2.</span>
<span class="token attribute attr-name">#[pallet::config]</span>
<span class="token keyword">pub</span> <span class="token keyword">trait</span> <span class="token class-name">Config</span><span class="token punctuation">:</span> <span class="token namespace">frame_system<span class="token punctuation">::</span></span><span class="token class-name">Config</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[pallet::constant]</span> 
    <span class="token keyword">type</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span> <span class="token class-name">Get</span><span class="token operator">&lt;</span><span class="token keyword">u32</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><a href="https://substrate.dev/rustdocs/latest/frame_metadata/struct.StorageMetadata.html">Storage metadata</a> provides blockchain clients with the information that is required to query
<a href="https://substrate.dev/rustdocs/latest/sc_rpc/state/struct.StateClient.html#method.storage">the JSON-RPC's storage function</a>
to get information for a specific storage item.</p>
<h5><a class="anchor" aria-hidden="true" id="dispatchable-calls"></a><a href="#dispatchable-calls" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dispatchable Calls</h5>
<p>Metadata for dispatchable calls includes information about the runtime calls and are defined by the
<code>decl_module!</code> (FRAME v1) or <code>#[pallet]</code> (FRAME v2) macros. For each call, the metadata includes:</p>
<ul>
<li><code>name</code>: Name of the function in the module.</li>
<li><code>args</code>: Arguments in function definition. Includes the name and type of each argument.</li>
<li><code>documentation</code>: Documentation of the function.</li>
</ul>
<p>For example:</p>
<pre><code class="hljs css language-rust"><span class="token comment">// In FRAME v1.</span>
<span class="token macro property">decl_module!</span> <span class="token punctuation">{</span>
    <span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Module</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token keyword">for</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Call</span> <span class="token keyword">where</span> origin<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Origin</span> <span class="token punctuation">{</span>
  
        <span class="token comment">/// This function does some thing.      </span>
        <span class="token comment">///</span>
        <span class="token comment">/// All documentation details go here.</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">do_something</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> <span class="token attribute attr-name">#[compact]</span> thing<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Something</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ... snip</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// In FRAME v2.</span>
<span class="token attribute attr-name">#[pallet::call]</span>
    <span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token class-name">Pallet</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">{</span>

        <span class="token comment">/// This function does some thing.      </span>
    <span class="token comment">///</span>
    <span class="token comment">/// All documentation details go here.</span>
        <span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">)</span> <span class="token keyword">fn</span> <span class="token function-definition function">do_something</span><span class="token punctuation">(</span>
            origin<span class="token punctuation">:</span> <span class="token class-name">OriginFor</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">,</span> 
            <span class="token attribute attr-name">#[pallet::compact]</span> thing<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Something</span>
            <span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">DispatchResultWithPostInfo</span> <span class="token punctuation">{</span>
      <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>This materializes in the metadata as follows:</p>
<pre><code class="hljs css language-json">"calls": [
  {
    "name": "do_something",
    "args": [
      {
        "name": "thing",
        "ty": "Compact&lt;T::Something&gt;"
      }
    ],
    "documentation": [
      " This function does some thing.",
      "",
      " All documentation details go here."
    ]
  }
],
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="events"></a><a href="#events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Events</h5>
<p>This metadata snippet is generated from this declaration in <code>frame-system</code>:</p>
<pre><code class="hljs css language-rust"><span class="token comment">//In FRAME v1.</span>
<span class="token macro property">decl_event!</span><span class="token punctuation">(</span>
    <span class="token comment">/// Event for the System module</span>
    <span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Event</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token keyword">where</span> <span class="token class-name">AccountId</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token class-name">T</span> <span class="token keyword">as</span> <span class="token class-name">Config</span><span class="token operator">></span><span class="token punctuation">::</span><span class="token class-name">AccountId</span> <span class="token punctuation">{</span>
        <span class="token comment">/// An extrinsic completed successfully.</span>
        <span class="token class-name">ExtrinsicSuccess</span><span class="token punctuation">(</span><span class="token class-name">DispatchInfo</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">AccountId</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">/// An extrinsic failed.</span>
        <span class="token class-name">ExtrinsicFailed</span><span class="token punctuation">(</span><span class="token class-name">DispatchError</span><span class="token punctuation">,</span> <span class="token class-name">DispatchInfo</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// In FRAME v2.</span>
<span class="token attribute attr-name">#[pallet::event]</span>
    <span class="token attribute attr-name">#[pallet::metadata(T::AccountId = <span class="token string">"AccountId"</span>)]</span>
    <span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Event</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment">/// An extrinsic completed successfully.</span>
        <span class="token class-name">ExtrinsicSuccess</span><span class="token punctuation">(</span><span class="token class-name">DispatchInfo</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">AccountId</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/// An extrinsic failed.</span>
        <span class="token class-name">ExtrinsicFailed</span><span class="token punctuation">(</span><span class="token class-name">DispatchError</span><span class="token punctuation">,</span> <span class="token class-name">DispatchInfo</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>

</code></pre>
<p>Substrate's metadata would describe these events as follows:</p>
<pre><code class="hljs css language-json">"events": [
  {
    "name": "ExtrinsicSuccess",
    "args": [
      "DispatchInfo",
      "AccountId"
    ],
    "documentation": [
      " An extrinsic completed successfully."
    ]
  },
  {
    "name": "ExtrinsicFailed",
    "args": [
      "DispatchError",
      "DispatchInfo"
    ],
    "documentation": [
      " An extrinsic failed."
    ]
  },
],
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="constants"></a><a href="#constants" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constants</h5>
<p>The metadata will include any module constants. For example in <a href="https://github.com/paritytech/substrate/blob/master/frame/babe/"><code>pallet-babe</code></a>:</p>
<pre><code class="hljs css language-rust"><span class="token comment">// In FRAME v1.</span>
<span class="token macro property">decl_module!</span> <span class="token punctuation">{</span>
    <span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Module</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token keyword">for</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Call</span> <span class="token keyword">where</span> origin<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Origin</span> <span class="token punctuation">{</span>
        <span class="token comment">/// The amount of time, in slots, that each epoch should last.</span>
        <span class="token comment">/// NOTE: Currently it is not possible to change the epoch duration after</span>
        <span class="token comment">/// the chain has started. Attempting to do so will brick block production.</span>
        <span class="token keyword">const</span> <span class="token class-name">EpochDuration</span><span class="token punctuation">:</span> <span class="token keyword">u64</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">EpochDuration</span><span class="token punctuation">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// In FRAME v2.</span>
<span class="token attribute attr-name">#[pallet::config]</span>
    <span class="token attribute attr-name">#[pallet::disable_frame_system_supertrait_check]</span>
    <span class="token keyword">pub</span> <span class="token keyword">trait</span> <span class="token class-name">Config</span><span class="token punctuation">:</span> <span class="token namespace">pallet_timestamp<span class="token punctuation">::</span></span><span class="token class-name">Config</span> <span class="token punctuation">{</span>
        <span class="token comment">/// The amount of time, in slots, that each epoch should last.</span>
        <span class="token comment">/// NOTE: Currently it is not possible to change the epoch duration after</span>
        <span class="token comment">/// the chain has started. Attempting to do so will brick block production.</span>
        <span class="token attribute attr-name">#[pallet::constant]</span>
        <span class="token keyword">type</span> <span class="token class-name">EpochDuration</span><span class="token punctuation">:</span> <span class="token class-name">Get</span><span class="token operator">&lt;</span><span class="token keyword">u64</span><span class="token operator">></span><span class="token punctuation">;</span>
</code></pre>
<p>The metadata for this constant looks like this:</p>
<pre><code class="hljs css language-json">"constants": [
  {
    "name": "EpochDuration",
    "type": "u64",
    "value": "0x6009000000000000",
    "documentation": [
      " The amount of time, in slots, that each epoch should last.",
      " NOTE: Currently it is not possible to change the epoch duration after",
      "the chain has started. Attempting to do so will brick block production."
    ]
  },
]
</code></pre>
<p>The metadata also includes constants defined in the runtime's <code>lib.rs</code>. For example, from Kusama:</p>
<pre><code class="hljs css language-rust"><span class="token macro property">parameter_types!</span> <span class="token punctuation">{</span>
    <span class="token keyword">pub</span> <span class="token keyword">const</span> <span class="token class-name">EpochDuration</span><span class="token punctuation">:</span> <span class="token keyword">u64</span> <span class="token operator">=</span> <span class="token constant">EPOCH_DURATION_IN_BLOCKS</span> <span class="token keyword">as</span> <span class="token keyword">u64</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Where <code>EPOCH_DURATION_IN_BLOCKS</code> is a constant defined in <code>runtime/src/constants.rs</code>.</p>
<h5><a class="anchor" aria-hidden="true" id="errors"></a><a href="#errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Errors</h5>
<p>Metadata will pull all the possible runtime errors from <code>decl_error!</code> (FRAME v1) or <code>#[pallet::error]</code> (FRAME v2). For example, from
<code>frame-system</code>:</p>
<pre><code class="hljs css language-rust"><span class="token comment">//In FRAME v1.</span>
<span class="token macro property">decl_error!</span> <span class="token punctuation">{</span>
    <span class="token comment">/// Error for the system module</span>
    <span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Error</span> <span class="token keyword">for</span> <span class="token class-name">Module</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Config</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment">/// The name of specification does not match between the current runtime</span>
        <span class="token comment">/// and the new runtime.</span>
        <span class="token class-name">InvalidSpecName</span><span class="token punctuation">,</span>
        <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//In FRAME v2.</span>
<span class="token attribute attr-name">#[pallet::error]</span>
<span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">Error</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment">/// The name of specification does not match between the current runtime</span>
        <span class="token comment">/// and the new runtime.</span>
        <span class="token class-name">InvalidSpecName</span><span class="token punctuation">,</span>
        <span class="token comment">// ... snip</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>Both code snips will expose the following metadata:</p>
<pre><code class="hljs css language-json">"errors": [
  {
    "name": "InvalidSpecName",
    "documentation": [
      " The name of specification does not match between the current runtime",
      " and the new runtime."
    ]
  },
  // ...
]
</code></pre>
<p>These are errors that could occur during the submission or execution of an extrinsic. In this case,
the FRAME System pallet is declaring that it may raise the
the <a href="https://substrate.dev/rustdocs/latest/frame_system/pallet/enum.Error.html#variant.InvalidSpecName"><code>InvalidSpecName</code> error</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="next-steps"></a><a href="#next-steps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next Steps</h2>
<h3><a class="anchor" aria-hidden="true" id="learn-more"></a><a href="#learn-more" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learn More</h3>
<ul>
<li><a href="storage">Storage</a></li>
<li><a href="../advanced/codec">SCALE</a></li>
<li><a href="macros">Macros</a></li>
<li><a href="events">Events</a></li>
<li><a href="../learn-substrate/extrinsics">Extrinsics</a></li>
</ul>
<!--
### Examples
-->
<h3><a class="anchor" aria-hidden="true" id="references"></a><a href="#references" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>References</h3>
<ul>
<li><a href="https://substrate.dev/rustdocs/latest/frame_metadata/index.html">Metadata</a></li>
<li><a href="https://crates.parity.io/frame_support/attr.pallet.html">FRAME v2 macro documentation</a></li>
</ul>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 7/14/2021 by Jimmy Chu</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/knowledgebase/runtime/macros"><span class="arrow-prev">← </span><span>Macros</span></a><a class="docs-next button" href="/docs/en/knowledgebase/runtime/storage"><span>Storage</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#how-to-get-the-metadata">How to Get the Metadata</a><ul class="toc-headings"><li><a href="#rust">Rust</a></li><li><a href="#javascript">Javascript</a></li><li><a href="#http--websocket-apis">HTTP &amp; WebSocket APIs</a></li></ul></li><li><a href="#metadata-formats">Metadata Formats</a><ul class="toc-headings"><li><a href="#encoded-metadata-format">Encoded Metadata Format</a></li><li><a href="#decoded-metadata-format">Decoded Metadata Format</a></li></ul></li><li><a href="#next-steps">Next Steps</a><ul class="toc-headings"><li><a href="#learn-more">Learn More</a></li><li><a href="#examples">Examples</a></li><li><a href="#references">References</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>Developer Hub</h5><a href="/en/tutorials">Tutorials</a><a href="/docs/en/">Knowledge Base</a><a href="https://substrate.dev/recipes/">Recipes</a><a href="https://substrate.dev/rustdocs">API Reference</a></div><div><h5>Community</h5><a href="/en/community">Community Home</a><a href="/en/newsletter">Newsletter</a><a href="https://app.element.io/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Substrate Technical Chat</a><a href="/en/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/substrate_io" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://www.substrate.io/builders-program/">Substrate Builders Program</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="/terms">Terms of Use</a><a href="#" id="cookie-settings">Cookie Settings<script>
                var cookieSettings = document.getElementById('cookie-settings');
                cookieSettings.onclick = function() {
                  return klaro.show();
                };
              </script></a></div></section><section class="copyright">Copyright © 2021 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en"]}
              });
            </script></body></html>